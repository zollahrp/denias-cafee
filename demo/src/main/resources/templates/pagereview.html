<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary meta tags -->
    <title>Review</title>
    <!-- Title of the webpage -->
    <meta name="title" content="Denias Cafe" />
    <!-- Meta title for SEO -->
    
    <!-- Favicon -->
    <!--<link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">  Link to favicon -->

    <!-- Google Font Link -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&family=Forum&display=swap"
      rel="stylesheet"
    />
    <!-- Link to Google Fonts -->

    <!-- Custom CSS link -->
    <link rel="stylesheet" th:href="@{/assets/css/pagereview.css}" />
    <!-- Link to custom CSS file -->

    <!-- Preload images for performance optimization -->
    <link rel="preload" as="image" th:href="@{/assets/images/hero-slider-1.jpg}" />
    <link rel="preload" as="image" th:href="@{/assets/images/hero-slider-2.jpg}" />
    <link rel="preload" as="image" th:href="@{/assets/images/hero-slider-3.jpg}" />

    <link rel="icon" type="image/svg+xml" th:href="@{/assets/img/favicon.svg}">

</head>

  <body id="top">
    <!-- Preloader untuk halaman web-->
    <div class="preload" data-preaload>
      <div class="circle"></div>
      <p class="text">Denias Cafe</p>
    </div>

    <!-- TOP BAR -->
    <div class="topbar">
      <div class="container">
        <address class="topbar-item">
          <div class="icon">
            <ion-icon name="location-outline" aria-hidden="true"></ion-icon>
          </div>
          <span class="span"> Denias Cafe, Sulawesi Selatan, Indonesia </span>
        </address>
        <div class="separator"></div>
        <div class="topbar-item item-2">
          <div class="icon">
            <ion-icon name="time-outline" aria-hidden="true"></ion-icon>
          </div>
          <span class="span">Daily : 9.00 am - 11.00 pm</span>
        </div>
        <a href="tel:+6281355906775" class="topbar-item link">
          <div class="icon">
            <ion-icon name="call-outline" aria-hidden="true"></ion-icon>
          </div>
          <span class="span">+62 813 5590 6775</span>
        </a>
        <div class="separator"></div>
        <a href="mailto:booking@restaurant.com" class="topbar-item link">
          <div class="icon">
            <ion-icon name="mail-outline" aria-hidden="true"></ion-icon>
          </div>
          <span class="span">deniascafe@gmail.com</span>
        </a>
      </div>
    </div>

    <!-- HEADER -->
    <header class="header" data-header>
      <div class="container">
        <a href="/home" class="logo">
          <img
            src="./assets/img/Logo.svg"
            width="160"
            height="50"
            alt="Denias Cafe - Home"
          />
        </a>
        <nav class="navbar" data-navbar>
          <button class="close-btn" aria-label="close menu" data-nav-toggler>
            <ion-icon name="close-outline" aria-hidden="true"></ion-icon>
          </button>
          <a href="/home" class="logo">
            <img
              src="./assets/img/Logo.svg"
              width="160"
              height="50"
              alt="Denias Cafe - Home"
            />
          </a>
          <!--Navbar-->
          <ul class="navbar-list">
            <li class="navbar-item">
              <a href="/home" class="navbar-link hover-underline">
                <div class="separator"></div>
                <span class="span">Home</span>
              </a>
            </li>
            <li class="navbar-item">
              <a href="/menu" class="navbar-link hover-underline">
                <div class="separator"></div>
                <span class="span">Menu</span>
              </a>
            </li>
            <li class="navbar-item">
              <a href="/aboutus" class="navbar-link hover-underline">
                <div class="separator"></div>
                <span class="span">About Us</span>
              </a>
            </li>
            <li class="navbar-item">
              <a href="/pagereview" class="navbar-link hover-underline active">
                <div class="separator"></div>
                <span class="span">Review</span>
              </a>
            </li>
            <li class="navbar-item">
              <a href="/contact" class="navbar-link hover-underline">
                <div class="separator"></div>
                <span class="span">Contact</span>
              </a>
            </li>
          </ul>
          <!--Navbar di HP-->
          <div class="text-center">
            <p class="headline-1 navbar-title">Kunjungi Kami</p>
            <address class="body-4">
              Denias Cafe, Sulawesi Selatan, Indonesia <br />
              Sulawesi Selatan, Indonesia
            </address>
            <p class="body-4 navbar-text">Daily : 9.00 am - 11.00 pm</p>
            <a href="mailto:deniascafe@gmail.com" class="body-4 sidebar-link"
              >deniascafe@gmail.com</a
            >
            <div class="separator"></div>
            <p class="contact-label">Booking Request</p>
            <a
              href="tel:+6281355906775"
              class="body-1 contact-number hover-underline"
            >
            +62 813 5590 6775
            </a>
          </div>
        </nav>
        <a href="https://wa.me/+6281355906775" class="btn btn-secondary">
          <span class="text text-1">Pesan Meja</span>
          <span class="text text-2" aria-hidden="true">Pesan Meja</span>
        </a>
        <button class="nav-open-btn" aria-label="open menu" data-nav-toggler>
          <span class="line line-1"></span>
          <span class="line line-2"></span>
          <span class="line line-3"></span>
        </button>
        <div class="overlay" data-nav-toggler data-overlay></div>
      </div>
    </header>

    <!--CONTACT-->

    <!-- ===== BOX ICONS ===== -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />

   <!--===== CONTACT ME =====-->
<section class="contact section bd-container" id="contact">
    <br /><br /><br /><br /><br />
    
  
<!-- REVIEW -->
<br />
<span class="section-subtitle">Review</span>
<div class="contact__container bd-grid">
  <ul class="feedback centered">
    <li class="angry" data-text="angry">
      <div>
        <svg class="eye left"><use xlink:href="#eye"></use></svg>
        <svg class="eye right"><use xlink:href="#eye"></use></svg>
        <svg class="mouth"><use xlink:href="#mouth"></use></svg>
      </div>
    </li>
    <li class="sad" data-text="sad">
      <div>
        <svg class="eye left"><use xlink:href="#eye"></use></svg>
        <svg class="eye right"><use xlink:href="#eye"></use></svg>
        <svg class="mouth"><use xlink:href="#mouth"></use></svg>
      </div>
    </li>
    <li class="ok" data-text="ok">
      <div></div>
    </li>
    <li class="good active" data-text="good">
      <div>
        <svg class="eye left"><use xlink:href="#eye"></use></svg>
        <svg class="eye right"><use xlink:href="#eye"></use></svg>
        <svg class="mouth"><use xlink:href="#mouth"></use></svg>
      </div>
    </li>
    <li class="happy" data-text="happy">
      <div>
        <svg class="eye left"><use xlink:href="#eye"></use></svg>
        <svg class="eye right"><use xlink:href="#eye"></use></svg>
      </div>
    </li>
  </ul>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 4" id="eye">
      <path d="M1,1 C1.83333333,2.16666667 2.66666667,2.75 3.5,2.75 C4.33333333,2.75 5.16666667,2.16666667 6,1"></path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 7" id="mouth">
      <path d="M1,5.5 C3.66666667,2.5 6.33333333,1 9,1 C11.6666667,1 14.3333333,2.5 17,5.5"></path>
    </symbol>
  </svg>
  <!-- END OF REVIEW -->
</div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
  document.querySelectorAll('.feedback li').forEach(item => {
    // Event listener untuk hover
    item.addEventListener('mouseenter', event => {
      const text = item.getAttribute('data-text');
      item.setAttribute('title', text);
    });

    // Event listener untuk klik
    item.addEventListener('click', event => {
      const text = item.getAttribute('data-text');

      // Tampilkan notifikasi sukses langsung setelah klik
      Swal.fire({
        title: 'Review Terkirim!',
        text: 'Terimakasih telah memberikan review.',
        icon: 'success',
        confirmButtonText: 'OK'
      });

      // Kirim data review ke server
      fetch('/api/submitReview', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ review: text }),
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.json();
      })
      .then(data => {
        console.log('Success:', data);
      })
      .catch((error) => {
        console.error('Error:', error);
      });
    });
  });
</script>


      <br>
  
      <form id="contactForm" class="contact__form">
        <div class="contact__inputs">
          <input type="text" id="nama" placeholder="Nama" class="contact__input" />
        </div>
    
        <textarea id="komentar" cols="0" rows="7" placeholder="Pesan dan Kesan" class="contact__input"></textarea>
    
        <input type="submit" value="Kirim Pesan" class="button contact__button" />
      </form>
    
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      <script>
        document.getElementById('contactForm').addEventListener('submit', function(event) {
          event.preventDefault();
          const nama = document.getElementById('nama').value;
          const komentar = document.getElementById('komentar').value;
    
          fetch('/api/pengguna/add', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: `nama=${encodeURIComponent(nama)}&komentar=${encodeURIComponent(komentar)}`
          }).then(response => response.json())
            .then(data => {
              // Menampilkan notifikasi sukses dengan SweetAlert
              Swal.fire({
                title: 'Terimakasih!',
                text: 'Anda berhasil mengirimkan pesan/komentar.',
                icon: 'success',
                timer: 1500,
                showConfirmButton: false
              });
              // Reset form
              document.getElementById('contactForm').reset();
            }).catch(error => {
              console.error('Error:', error);
              // Menampilkan notifikasi error (opsional)
              Swal.fire({
                title: 'Error!',
                text: 'Terjadi kesalahan saat mengirimkan pesan/komentar.',
                icon: 'error',
                timer: 1500,
                showConfirmButton: false
              });
            });
        });
      </script>
    
    </div>
  </section>

  <main id="main" class="main">

    <div class="review-section">
      <div class="container">
        <div class="review">
          <h2 class="R-title">Review</h2>
          <div id="reviews" class="review-section"></div>
        </div>
      </div>
    </div>
    
    <script>
    fetch('/api/pengguna/all')
      .then(response => response.json())
      .then(data => {
        const reviewsContainer = document.getElementById('reviews');
        reviewsContainer.innerHTML = '';
        data.forEach(review => {
          const reviewElement = document.createElement('div');
          reviewElement.className = 'media media-review';
          reviewElement.innerHTML = `
            <div class="media-body">
              <div class="M-flex">
                <h2 class="title"><span>${review.namaPengguna}</span><span class="tglreview">${new Date(review.tanggalReview).toLocaleDateString('id-ID')}</span></h2>
              </div>
              <div class="description">${review.komentar}</div>
            </div>
          `;
          reviewsContainer.appendChild(reviewElement);
        });
      })
      .catch(error => console.error('Error:', error));
    </script>

</main>

    <!-- FOOTER -->
    <footer>
      <div class="row">
        <div class="col">
          <img src="./assets/img/Logo.svg" class="footer_logo" />
          <p class="footer_about">
            Selamat datang di Denias Cafe, tempat menikmati kopi, jus, tea,
            snack dan layanan ramah dalam suasana nyaman. Nikmati minuman dan
            makanan kami yang disiapkan dengan penuh perhatian.
          </p>
        </div>
        <div class="col">
          <h3>
            Office
            <div class="bottom_line"><span></span></div>
          </h3>
          <p>Jl. Sungguminahasa - Takalar</p>
          <p>Tamallayang</p>
          <p>Sulawesi Selatan, 92153, Indonesia</p>
          <p class="footer_email">deniascafe@gmail.com</p>
          <h4>+62 81355906775</h4>
        </div>
        <div class="col">
          <h3>
            Links
            <div class="bottom_line"><span></span></div>
          </h3>
          <ul>
            <li><a href="/home">HOME</a></li>
            <li><a href="/menu">MENU</a></li>
            <li><a href="/aboutus">ABOUT US</a></li>
            <li><a href="/pagereview">REVIEW</a></li>
            <li><a href="contact">CONTACT</a></li>
          </ul>
        </div>
        <div class="col">
          <h3>
            Khusus Admin
            <div class="bottom_line"><span></span></div>
          </h3>
          <a href="/awallogin">Admin Login</a> <br />

          <div class="social_icons">
            <ion-icon class="social_icon" name="logo-whatsapp"></ion-icon>
          </div>
        </div>
      </div>
      <hr />
      <p class="copyright">Denias Cafe Ⓒ 2024 - All Rights Reserved</p>
    </footer>

    <!-- 
    - #BACK TO TOP
  -->

    <a
      href="#top"
      class="back-top-btn active"
      aria-label="back to top"
      data-back-top-btn
    >
      <ion-icon name="chevron-up" aria-hidden="true"></ion-icon>
    </a>

    <!-- custom js link -->
    <script src="./assets/js/script.js"></script>
    <script src="./assets/js/kategori.js"></script>

    <!-- 
    - ionicon link
  -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <script>
      document.querySelectorAll(".feedback li").forEach((entry) =>
  entry.addEventListener("click", (e) => {
    if (!entry.classList.contains("active")) {
      document.querySelector(".feedback li.active").classList.remove("active");
      entry.classList.add("active");
    }
    e.preventDefault();
  })
);

    </script>

    <!--Swal notification-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  </body>
</html>
